scrMain As screen:
    OnVisible: |-
        =Refresh(Solutions);
        Refresh('Solution Components');

    glrSolutions As gallery.galleryVertical:
        Height: =240
        Items: |-
            =Sort(
                Filter(
                    Solutions,
                    'Is Visible Outside Platform' = 'Is Visible Outside Platform (Solutions)'.Yes && 
                    'Package Type' = 'Package Type (Solutions)'.Unmanaged && 
                    'Solution Identifier' <> gblDefaultSolutionId &&
                    'Solution Identifier' <> gblCdsDefaultSolutionId &&
                    'Solution Identifier' <> gblActiveSolutionId
                ),
                'Display Name'
            )
        Layout: =Layout.Vertical
        TemplateSize: =If(Self.Layout = Layout.Horizontal, Min(280, Self.Width - 60), Min(280, Self.Height - 60))
        Visible: =false
        X: =726
        ZIndex: =1

    drpSolutions As dropdown:
        Default: ="No"
        Height: =45
        Items: =glrSolutions.AllItems
        Width: =540
        X: =40
        Y: =39
        ZIndex: =1

    btnAddAllRequiredComponents As button:
        Height: =41
        OnSelect: |
            =UpdateContext({loading: true});
            Navigate(scrRemoveEnvironmentVariableValues);
            UpdateContext({loading: false});
        Text: ="Yes"
        Width: =316
        X: =40
        Y: =124
        ZIndex: =2

    lblSelfContained As label:
        Text: ="Do you want to make sure the Solution is self contained?"
        Width: =540
        X: =40
        Y: =84
        ZIndex: =3

    imgAddAllRequiredComponentsRunning As image:
        Image: =imgLoading
        ImagePosition: =ImagePosition.Fill
        Visible: =loading
        X: =368
        Y: =94
        ZIndex: =4

    "glrForceColumns As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver4.0'":
        Height: =208
        Items: |-
            =// Force getting the columns we need
            (First('Solution Components'))
        Layout: =Layout.Vertical
        TemplatePadding: =0
        TemplateSize: =199
        Visible: =false
        Width: =624
        X: =742
        Y: =558
        ZIndex: =5

        Title5 As label:
            Height: =Self.Size * 1.8
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =ThisItem.Solution.Name
            VerticalAlign: =VerticalAlign.Top
            Width: =Parent.TemplateWidth - 104
            X: =32
            Y: =16
            ZIndex: =1

        Subtitle5 As label:
            Height: =Self.Size * 1.8
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =ThisItem.Solution.'Solution Identifier'
            VerticalAlign: =VerticalAlign.Top
            Width: =Parent.TemplateWidth - 104
            X: =32
            Y: =Title5.Y + Title5.Height + 2
            ZIndex: =2

        Body3 As label:
            Height: =35
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =ThisItem.componenttype
            VerticalAlign: =VerticalAlign.Top
            Width: =Parent.TemplateWidth - 104
            X: =32
            Y: =Subtitle5.Y + Subtitle5.Height + 4
            ZIndex: =3

        NextArrow5 As icon.ChevronRight:
            AccessibleLabel: =Self.Tooltip
            Height: =60
            Icon: =Icon.ChevronRight
            OnSelect: =Select(Parent)
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            TabIndex: =0
            Tooltip: ="View item details"
            Width: =60
            X: =Parent.TemplateWidth - Self.Width - 5
            Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
            ZIndex: =4

        Separator5 As rectangle:
            Height: =1
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - 1
            ZIndex: =5

        Label3 As label:
            Height: =36
            OnSelect: =Select(Parent)
            Text: =ThisItem.Solution.'Solution Identifier'
            Width: =520
            X: =32
            Y: =125
            ZIndex: =6

        Label1 As label:
            OnSelect: =Select(Parent)
            Text: =ThisItem.Regarding
            Width: =520
            X: =32
            Y: =159
            ZIndex: =7

